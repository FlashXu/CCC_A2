{"remainingRequest":"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/node_modules/babel-loader/lib/index.js!/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/src/assets/js/utils.js","dependencies":[{"path":"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/src/assets/js/utils.js","mtime":1561893340000},{"path":"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Promise from \"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/node_modules/@babel/runtime-corejs2/core-js/promise\";\nimport _Object$keys from \"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/node_modules/@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport _typeof from \"/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.number.constructor\";\n\nfunction formatNum(m) {\n  m = Number(m);\n  return m < 10 ? '0' + m : m;\n}\n\nexport default {\n  minite2str: function minite2str(minutes) {\n    var hour = Math.floor(minutes / 60);\n    var minute = minutes % 60;\n    var timeStr = '';\n\n    if (hour > 0) {\n      timeStr += hour + 'hours';\n    }\n\n    if (minute > 0) {\n      timeStr += minute + 'minutes';\n    }\n\n    return timeStr;\n  },\n  ms2str: function ms2str(mseconds) {\n    var msecs = Math.floor(mseconds / 10);\n    var m = Math.floor(msecs / (100 * 60));\n    var s = Math.floor((msecs - m) / 100);\n    var ms = msecs % 100;\n    return {\n      minute: formatNum(m),\n      second: formatNum(s),\n      msecond: formatNum(ms)\n    };\n  },\n  getUrlParam: function getUrlParam() {\n    var searchArr = window.location.href.split('?');\n    var search = searchArr.length > 1 ? searchArr[1].split('&') : [];\n    var param = {};\n\n    if (search.length > 0 && search[0].length > 0) {\n      search.forEach(function (item) {\n        var temp = item.split('=');\n        param[temp[0]] = temp[1];\n      });\n    }\n\n    return param;\n  },\n  // set localStorage\n  setStorage: function setStorage(key, value) {\n    if (_typeof(value).toLowerCase() == 'object') {\n      value = _JSON$stringify(value);\n    }\n\n    window.localStorage.setItem(key, value);\n  },\n  // get localStorage\n  getStorage: function getStorage(key) {\n    return window.localStorage.getItem(key);\n  },\n  // remove localStorage\n  removeStorage: function removeStorage(key) {\n    window.localStorage.removeItem(key);\n  },\n  // clear localStorage\n  clearStorage: function clearStorage() {\n    window.localStorage.clear();\n  },\n  // set cookie\n  setCookie: function setCookie(cname, cvalue, exdays) {\n    var d = new Date();\n    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n    var expires = 'expires=' + d.toUTCString();\n    document.cookie = cname + '=' + cvalue + '; ' + expires;\n  },\n  // get cookie\n  getCookie: function getCookie(cname) {\n    var name = cname + '=';\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1);\n      }\n\n      if (c.indexOf(name) !== -1) return c.substring(name.length, c.length);\n    }\n\n    return null;\n  },\n  // clear cookie\n  clearCookie: function clearCookie() {\n    this.setCookie('username', '', -1);\n  },\n  formatNum: function formatNum(m) {\n    m = Number(m);\n    return m < 10 ? '0' + m : m;\n  },\n  //timestamp to dateTime\n  timestamp2datetime: function timestamp2datetime(timestamp) {\n    var time = new Date(timestamp);\n    var y = time.getFullYear();\n    var m = time.getMonth() + 1;\n    var d = time.getDate();\n    var h = time.getHours();\n    var mm = time.getMinutes();\n    var s = time.getSeconds();\n    return y + '-' + formatNum(m) + '-' + formatNum(d) + ' ' + formatNum(h) + ':' + formatNum(mm) + ':' + formatNum(s);\n  },\n  // [TODO]: format date\n  formatDate: function formatDate(date) {\n    var time = new Date(date);\n    var y = time.getFullYear();\n    var m = time.getMonth() + 1;\n    var d = time.getDate();\n    return y + '-' + formatNum(m) + '-' + formatNum(d);\n  },\n  // remove Object From Array By properties\n  removeObjFromArrayBy: function removeObjFromArrayBy(arr, propObj) {\n    var key = _Object$keys(propObj)[0];\n\n    var value = propObj[key];\n    var matchedObj = null;\n\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i][key] == value) {\n        matchedObj = {\n          index: i,\n          item: arr[i]\n        };\n        break;\n      }\n    }\n\n    arr.splice(matchedObj.index, 1);\n    return arr;\n  },\n  imageFile2DataURL: function imageFile2DataURL(imageFile, maxWidth, maxHeight) {\n    var quality = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1.0;\n    var force = arguments.length > 4 ? arguments[4] : undefined;\n    return new _Promise(function (resolve, reject) {\n      var reader = new FileReader(),\n          oImg = new Image(),\n          canvas = document.createElement('canvas'),\n          context = canvas.getContext('2d');\n      reader.onerror = reject;\n      oImg.onerror = reject;\n\n      oImg.onload = function () {\n        var w, h;\n\n        if (force) {\n          w = maxWidth;\n          h = maxHeight;\n        } else {\n          w = oImg.width;\n          h = oImg.height;\n          var mw = maxWidth || w,\n              mh = maxHeight || h,\n              rate = Math.max(w / mw, h / mh);\n\n          if (rate > 1) {\n            w = w / rate;\n            h = h / rate;\n          }\n        }\n\n        canvas.width = w;\n        canvas.height = h;\n        context.clearRect(0, 0, w, h);\n        context.drawImage(oImg, 0, 0, w, h);\n        var dataURL = quality < 1 ? canvas.toDataURL('image/jpeg', quality) : canvas.toDataURL(imageFile.type);\n        resolve(dataURL);\n      };\n\n      reader.onload = function () {\n        return oImg.src = reader.result;\n      };\n\n      reader.readAsDataURL(imageFile);\n    });\n  },\n  imageFileCompress: function imageFileCompress(imageFile, maxWidth, maxHeight, quality, force) {\n    return this.imageFile2DataURL(imageFile, maxWidth, maxHeight, quality, force).then(function (dataURL) {\n      // console.log(dataURL)\n      // const newFile = dataURLtoFile(dataURL)\n      // newFile.src = dataURL\n      return dataURL;\n    });\n  }\n};",{"version":3,"sources":["/Users/taylor/Documents/COMP90024/A2/COMP90024-2019S1-Team7-TrackerHub-master/frontend/src/assets/js/utils.js"],"names":["formatNum","m","Number","minite2str","minutes","hour","Math","floor","minute","timeStr","ms2str","mseconds","msecs","s","ms","second","msecond","getUrlParam","searchArr","window","location","href","split","search","length","param","forEach","item","temp","setStorage","key","value","toLowerCase","localStorage","setItem","getStorage","getItem","removeStorage","removeItem","clearStorage","clear","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","ca","i","c","charAt","substring","indexOf","clearCookie","timestamp2datetime","timestamp","time","y","getFullYear","getMonth","getDate","h","getHours","mm","getMinutes","getSeconds","formatDate","date","removeObjFromArrayBy","arr","propObj","matchedObj","index","splice","imageFile2DataURL","imageFile","maxWidth","maxHeight","quality","force","resolve","reject","reader","FileReader","oImg","Image","canvas","createElement","context","getContext","onerror","onload","w","width","height","mw","mh","rate","max","clearRect","drawImage","dataURL","toDataURL","type","src","result","readAsDataURL","imageFileCompress","then"],"mappings":"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","sourcesContent":["function formatNum(m){\n\tm = Number(m)\n\treturn m<10 ? '0'+m : m \n}\nexport default{\n\tminite2str (minutes) {\n\t\tlet hour = Math.floor(minutes / 60)\n\t\tlet minute = minutes % 60\n\t\tlet timeStr = ''\n\t\tif (hour > 0) {\n\t\t\ttimeStr += hour + 'hours'\n\t\t}\n\t\tif (minute > 0) {\n\t\t\ttimeStr += minute + 'minutes'\n\t\t}\n\t\treturn timeStr\n\t},\n\tms2str (mseconds) {\n\t\tlet msecs = Math.floor(mseconds/10)\n\t\tlet m = Math.floor(msecs/(100*60))\n\t\tlet s = Math.floor((msecs-m)/100)\n\t\tlet ms = msecs%100\n\t\treturn{\n\t\t\tminute: formatNum(m),\n\t\t\tsecond: formatNum(s),\n\t\t\tmsecond: formatNum(ms)\n\t\t}\n\t},\n\n\tgetUrlParam () {\n\t\tlet searchArr = window.location.href.split('?')\n\t\tlet search = searchArr.length > 1 ? searchArr[1].split('&') : []\n\t\tlet param = {}\n\t\tif (search.length > 0 && search[0].length > 0) {\n\t\t\tsearch.forEach(item => {\n\t\t\t\tlet temp = item.split('=')\n\t\t\t\tparam[temp[0]] = temp[1]\n\t\t\t})\n\t\t}\n\t\treturn param\n\t},\n\t\n\t// set localStorage\n\tsetStorage (key, value) {\n\t\tif((typeof(value)).toLowerCase() == 'object'){\n\t\t\tvalue = JSON.stringify(value)\n\t\t}\n\t\twindow.localStorage.setItem(key,value);\n\t},\n\t// get localStorage\n\tgetStorage (key) {\n\t\treturn window.localStorage.getItem(key);\n\t},\n\t// remove localStorage\n\tremoveStorage (key) {\n\t\twindow.localStorage.removeItem(key);\n\t},\n\t// clear localStorage\n\tclearStorage () {\n\t\twindow.localStorage.clear();\n\t},\n\n\t// set cookie\n\tsetCookie (cname, cvalue, exdays) {\n\t\tlet d = new Date()\n\t\td.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000))\n\t\tlet expires = 'expires=' + d.toUTCString()\n\t\tdocument.cookie = cname + '=' + cvalue + '; ' + expires\n\t},\n\n\t// get cookie\n\tgetCookie (cname) {\n\t\tlet name = cname + '='\n\t\tlet ca = document.cookie.split(';')\n\t\tfor (let i = 0; i < ca.length; i++) {\n\t\t\tlet c = ca[i]\n\t\t\twhile (c.charAt(0) === ' ') c = c.substring(1)\n\t\t\tif (c.indexOf(name) !== -1) return c.substring(name.length, c.length)\n\t\t}\n\t\treturn null\n\t},\n\n\t// clear cookie\n\tclearCookie () {\n\t\tthis.setCookie('username', '', -1)\n\t},\n\tformatNum(m){\n\t\tm = Number(m)\n\t\treturn m<10 ? '0'+m : m \n\t},\n\t//timestamp to dateTime\n\ttimestamp2datetime(timestamp){\n\t\tvar time = new Date(timestamp);\n\t\tvar y = time.getFullYear();\n\t\tvar m = time.getMonth()+1;\n\t\tvar d = time.getDate();\n\t\tvar h = time.getHours();\n\t\tvar mm = time.getMinutes();\n\t\tvar s = time.getSeconds();\n\t\treturn y+'-'+formatNum(m)+'-'+formatNum(d)+' '+formatNum(h)+':'+formatNum(mm)+':'+formatNum(s);\n\t},\n\t// [TODO]: format date\n\tformatDate(date){\n\t\tvar time = new Date(date);\n\t\tvar y = time.getFullYear();\n\t\tvar m = time.getMonth()+1;\n\t\tvar d = time.getDate();\n\t\treturn y+'-'+formatNum(m)+'-'+formatNum(d)\n\t},\n\n\t// remove Object From Array By properties\n\tremoveObjFromArrayBy(arr, propObj){\n\t\tlet key = Object.keys(propObj)[0]\n\t\tlet value = propObj[key]\n\t\tlet matchedObj = null\n\t\tfor(let i = 0; i < arr.length; i++){\n\t\t\tif(arr[i][key] == value){\n\t\t\t\tmatchedObj = {\n\t\t\t\t\tindex: i,\n\t\t\t\t\titem: arr[i]\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tarr.splice(matchedObj.index,1)\n\t\treturn arr\n\t},\n\timageFile2DataURL(imageFile, maxWidth, maxHeight, quality=1.0, force){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tconst reader = new FileReader(),\n\t\t\t\toImg = new Image(),\n\t\t\t\tcanvas = document.createElement('canvas'),\n\t\t\t\tcontext = canvas.getContext('2d');\n\t\t\treader.onerror=reject\n\t\t\toImg.onerror=reject\n\t\t\toImg.onload = () => {\n\t\t\t\tlet w,h\n\t\t\t\tif(force){\n\t\t\t\t\tw = maxWidth\n\t\t\t\t\th = maxHeight\n\t\t\t\t}else{\n\t\t\t\t\tw = oImg.width\n\t\t\t\t\th = oImg.height\n\t\t\t\t\tlet\tmw = maxWidth || w,\n\t\t\t\t\t\tmh = maxHeight || h,\n\t\t\t\t\t\trate = Math.max(w/mw,h/mh)\n\t\t\t\t\tif(rate>1){\n\t\t\t\t\t\tw = w/rate\n\t\t\t\t\t\th = h/rate\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcanvas.width = w\n\t\t\t\tcanvas.height = h\n\t\t\t\tcontext.clearRect(0, 0, w, h)\n\t\t\t\tcontext.drawImage(oImg, 0, 0, w, h)\n\t\t\t\tconst dataURL = quality < 1 ? canvas.toDataURL('image/jpeg', quality) : canvas.toDataURL(imageFile.type)\n\t\t\t\tresolve(dataURL)\n\t\t\t}\n\t\t\treader.onload= () => oImg.src = reader.result\n\t\t\treader.readAsDataURL(imageFile)\n\t\t})\n\t},\n\timageFileCompress(imageFile, maxWidth, maxHeight, quality, force){\n\t\treturn this.imageFile2DataURL(imageFile, maxWidth, maxHeight, quality, force).then( dataURL => {\n\t\t\t// console.log(dataURL)\n\t\t\t// const newFile = dataURLtoFile(dataURL)\n\t\t\t// newFile.src = dataURL\n\t\t\treturn dataURL\n\t\t})\n\t}\n}"]}]}